<div>
  <h3 class="ml-5 mt-16 mb-5 text-xl">Attendance History</h3>
  <span class="ml-10 mr-5">School Year:</span>
  <mat-form-field class="small" appearance="outline">
    <mat-select [value]="years[0]">
      <mat-option *ngFor="let year of years" [value]="year" >{{ year }}</mat-option>
    </mat-select>
  </mat-form-field>

  <hr class="mb-5">
  <span class="ml-10 mb-5">Overview</span>
</div>
<div class="m-5">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 rounded-lg overflow-hidden" style="background-color: white;">
      <!-- Semester Column -->
      <ng-container matColumnDef="semester">
        <th mat-header-cell *matHeaderCellDef> Sem </th>
        <td mat-cell *matCellDef="let element"> {{element.semester}} </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <!-- Subject Code Column -->
      <ng-container matColumnDef="subCode">
        <th mat-header-cell *matHeaderCellDef> Subject Code </th>
        <td mat-cell *matCellDef="let element">{{element.subCode}}
        </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <!-- Section Column -->
      <ng-container matColumnDef="section">
        <th mat-header-cell *matHeaderCellDef> Section </th>
        <td mat-cell *matCellDef="let element"> {{element.section}} </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <!-- Description Column -->
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef> Description </th>
        <td mat-cell *matCellDef="let element"> {{element.description}} </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <!-- Schedule Column -->
      <ng-container matColumnDef="schedule">
        <th mat-header-cell *matHeaderCellDef> Schedule </th>
        <td mat-cell *matCellDef="let element"> {{element.schedule}} </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <!-- Room Column -->
      <ng-container matColumnDef="room">
        <th mat-header-cell *matHeaderCellDef> Room </th>
        <td mat-cell *matCellDef="let element"> {{element.room}} </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <!-- Teacher Column -->
      <ng-container matColumnDef="teacher">
        <th mat-header-cell *matHeaderCellDef> Teacher </th>
        <td mat-cell *matCellDef="let element"> {{element.teacher}} </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <!-- Summary Column -->
      <ng-container matColumnDef="summary">
        <th mat-header-cell *matHeaderCellDef> Summary </th>
        <td mat-cell *matCellDef="let element">
          <div class="flex flex-wrap gap-2 items-center">
              <span
                class="py-1 min-w-[20px] h-5 flex items-center justify-center rounded-sm bg-[#6BBE75] text-white text-xs">
                {{element.present}}
              </span>
              <span
                class="py-1 min-w-[20px] h-5 flex items-center justify-center rounded-sm bg-[#E47E7E] text-white text-xs">
                {{element.absent}}
              </span>
              <span
                class="py-1 min-w-[20px] h-5 flex items-center justify-center rounded-sm bg-[#F3C94A] text-white text-xs">
              {{element.late}}
            </span>
            <span
              class="py-1 min-w-[20px] h-5 flex items-center justify-center rounded-sm bg-[#679AC7] text-white text-xs">
            {{element.excused}}
          </span>
          </div>
        </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns" style="background-color: #DBE6F0"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      <tr mat-footer-row *matFooterRowDef="displayedColumns" style="background-color: #DBE6F0; height: 25px;"></tr>
    </table>
</div>
